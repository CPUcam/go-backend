{{set . "title" "Login"}}
{{template "header.html"}}

<h1>File Upload</h1>

<div class="container">
	<div class="row">
		<div class="span6">
			<form method="post" action="{{url "Single.HandleUpload"}}" enctype="multipart/form-data">
				<p>
					<label for="avatar"><strong>Avatar*:</strong></label>
					<input type="file" name="avatar" id="avatar" class="span6">
				</p>
				<hr>
				<input type="submit" value="Upload" class="btn btn-large btn-success">
			</form>
		</div>
		<div class="span6">
			<i>
				Your avatar is expected to be in PNG or JPEG format.
				Minimum allowed resolution is 150x150px.
				Maximum file size is 2 MB.
			</i>
		</div>
	</div>
	
	<input id="text" type="text" value="http://jindo.dev.naver.com/collie" style="width:80%" /><br />
	<div id="qrcode" style="width:100px; height:100px; margin-top:15px;"></div>

	<script type="text/javascript">
	var qrcode = new QRCode(document.getElementById("qrcode"), {
		width : 100,
		height : 100
	});
	function makeCode () {
		var elText = document.getElementById("text");

		if (!elText.value) {
			alert("Input a text");
			elText.focus();
			return;
		}

		qrcode.makeCode(elText.value);
	}
	makeCode();
	$("#text").
		on("blur", function () {
			makeCode();
		}).
		on("keydown", function (e) {
			if (e.keyCode == 13) {
				makeCode();
			}
		});
	</script>
</div>

{{template "footer.html" .}}
